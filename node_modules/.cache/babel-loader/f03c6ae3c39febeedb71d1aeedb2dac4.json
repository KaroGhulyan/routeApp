{"ast":null,"code":"import _toConsumableArray from \"/home/karo/Documents/routeApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/karo/Documents/routeApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/karo/Documents/routeApp/src/components/Stops/StopItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { routes, currentStop, finishedCount } from '../../features/appSlice';\nimport { Stop, StopNumber, StopInfo, Address, TimeInfo, FinishIcon, FinishSection, StopWrapper } from '../../style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StopItem(_ref) {\n  _s();\n\n  var stop = _ref.stop,\n      stops = _ref.stops,\n      index = _ref.index;\n  var information = stop.information,\n      sequence_number = stop.sequence_number,\n      arr_time_string = stop.arr_time_string,\n      end_time_string = stop.end_time_string,\n      time_window_earliest = stop.time_window_earliest,\n      time_window_latest = stop.time_window_latest,\n      isFinished = stop.isFinished;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      finished = _useState4[0],\n      setFinished = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      color = _useState6[0],\n      setColor = _useState6[1];\n\n  var dispatch = useDispatch();\n\n  var handleClick = function handleClick() {\n    !finished && setSelected(!selected);\n  };\n\n  var endRoute = function endRoute() {\n    var routesData = JSON.parse(JSON.stringify(_toConsumableArray(stops)));\n    routesData[index].isFinished = true;\n    dispatch(finishedCount());\n    dispatch(routes(routesData));\n    dispatch(currentStop(stop));\n    setFinished(true);\n  };\n\n  useEffect(function () {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    if (isFinished) {\n      setFinished(true);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [stop]);\n  useEffect(function () {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    if (selected) {\n      setColor('#E90052');\n    }\n\n    if (finished) {\n      setColor('#4688F1'); // eslint-disable-next-line react-hooks/exhaustive-deps\n    }\n  }, [selected, finished]);\n  return /*#__PURE__*/_jsxDEV(StopWrapper, {\n    selected: selected,\n    finished: finished,\n    children: [/*#__PURE__*/_jsxDEV(Stop, {\n      onClick: handleClick,\n      finished: finished,\n      children: [/*#__PURE__*/_jsxDEV(StopInfo, {\n        children: [/*#__PURE__*/_jsxDEV(StopNumber, {\n          selected: selected || finished ? color : '',\n          children: finished ? /*#__PURE__*/_jsxDEV(FinishIcon, {\n            finished: finished && 'white'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this) : index - 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Address, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: information === null || information === void 0 ? void 0 : information.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: information === null || information === void 0 ? void 0 : information.street\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [information === null || information === void 0 ? void 0 : information.zipcode, \" \", information === null || information === void 0 ? void 0 : information.city]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), !finished && /*#__PURE__*/_jsxDEV(TimeInfo, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: arr_time_string || end_time_string\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [time_window_earliest, \"-\", time_window_latest]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), selected && !finished && /*#__PURE__*/_jsxDEV(FinishSection, {\n      onClick: endRoute,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(FinishIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Finish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StopItem, \"25BMttEbyjqp9su6M8l5FFT3Y1g=\", false, function () {\n  return [useDispatch];\n});\n\n_c = StopItem;\nexport default StopItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"StopItem\");","map":{"version":3,"sources":["/home/karo/Documents/routeApp/src/components/Stops/StopItem.js"],"names":["React","useEffect","useState","useDispatch","routes","currentStop","finishedCount","Stop","StopNumber","StopInfo","Address","TimeInfo","FinishIcon","FinishSection","StopWrapper","StopItem","stop","stops","index","information","sequence_number","arr_time_string","end_time_string","time_window_earliest","time_window_latest","isFinished","selected","setSelected","finished","setFinished","color","setColor","dispatch","handleClick","endRoute","routesData","JSON","parse","stringify","name","street","zipcode","city"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { routes,currentStop, finishedCount } from '../../features/appSlice';\r\nimport {\r\n  Stop,\r\n  StopNumber,\r\n  StopInfo,\r\n  Address,\r\n  TimeInfo,\r\n  FinishIcon,\r\n  FinishSection,\r\n  StopWrapper,\r\n} from '../../style';\r\n\r\nfunction StopItem({ stop, stops, index }) {\r\n  const {\r\n    information,\r\n    sequence_number,\r\n    arr_time_string,\r\n    end_time_string,\r\n    time_window_earliest,\r\n    time_window_latest,\r\n    isFinished\r\n  } = stop;\r\n  const [selected, setSelected] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n  const [color, setColor] = useState('');\r\n  const dispatch = useDispatch();\r\n  \r\n\r\n  const handleClick = () => {\r\n    !finished && setSelected(!selected);\r\n  };\r\n  const endRoute = () => {\r\n    let routesData = JSON.parse(JSON.stringify([...stops]));\r\n    routesData[index].isFinished = true;\r\n    dispatch(finishedCount())\r\n    dispatch(routes(routesData))\r\n    dispatch(currentStop(stop));\r\n    setFinished(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n\r\n    if(isFinished){\r\n      setFinished(true)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [stop])\r\n  useEffect(() => {\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    if (selected) {\r\n      setColor('#E90052');\r\n    }\r\n    if (finished) {\r\n      setColor('#4688F1');\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }\r\n\r\n  }, [selected, finished]);\r\n  return (\r\n    <StopWrapper selected={selected} finished={finished}>\r\n      <Stop onClick={handleClick} finished={finished}>\r\n        <StopInfo>\r\n          <StopNumber selected={selected || finished ? color : ''}>\r\n            {finished ? (\r\n              <FinishIcon finished={finished && 'white'} />\r\n            ) : (\r\n              index-1\r\n            )}\r\n          </StopNumber>\r\n          <Address>\r\n            <span>{information?.name}</span>\r\n            <p>{information?.street}</p>\r\n            <p>\r\n              {information?.zipcode} {information?.city}\r\n            </p>\r\n          </Address>\r\n        </StopInfo>\r\n        {!finished && (\r\n          <TimeInfo>\r\n            <span>{arr_time_string || end_time_string}</span>\r\n            <p>\r\n              {time_window_earliest}-{time_window_latest}\r\n            </p>\r\n          </TimeInfo>\r\n        )}\r\n      </Stop>\r\n      {selected && !finished && (\r\n        <FinishSection onClick={endRoute}>\r\n          <div>\r\n            <FinishIcon />\r\n            <p>Finish</p>\r\n          </div>\r\n        </FinishSection>\r\n      )}\r\n    </StopWrapper>\r\n  );\r\n}\r\n\r\nexport default StopItem;\r\n"]},"metadata":{},"sourceType":"module"}